---
import { config } from '../config'

interface Props {
  description?: string
  title?: string
  ogImage?: ImageMetadata
  ogImageAlt?: string
  location?: string
}

const { description, title, ogImage, ogImageAlt, location } = Astro.props
const metaDescription = description || config.description
const url = location || ''
const blogPostRegex = /\/blog\/[^/]+\/$/
const isBlogPost = blogPostRegex.test(url)
---

<head>
  <meta
    name="twitter:card"
    content={`${isBlogPost ? 'summary_large_image' : 'summary'}`}
  />
  <meta
    name="twitter:image"
    content={`${config.siteUrl}${ogImage}` ||
      `${config.siteUrl}/images/marco-heine.webp`}
  />
  <meta
    name="twitter:image:alt"
    content={ogImageAlt}
  />
  <meta
    name="twitter:creator"
    content={config.author}
  />
  <meta
    name="twitter:title"
    content={title}
  />
  <meta
    name="twitter:description"
    content={metaDescription}
  />
  <link
    rel="canonical"
    href={`${config.siteUrl}${url}`}
  /></head
>
<link
  rel="icon"
  href="/favicon-32x32.png"
/>
<link
  rel="alternate"
  type="application/rss+xml"
  title={`${config.title} RSS Feed`}
  href="/rss.xml"
/>
